# status-071: 初期コミット統合（git履歴クリーンアップ）

[← README](../../README.md) | [← status-index](status-index.md) | [← roadmap](../roadmap.md)

**日付**: 2026-02-27
**作業者**: Claude Code
**テスト数**: 1629（変更なし、git履歴のみの変更）

## 概要

リポジトリの初期3コミット（2つのルートコミット + 1つの子コミット）を
1つのルートコミットに統合し、作成ユーザーを Claude に変更。
コンテンツの変更はなく、git DAG構造のクリーンアップのみ。

## 1. 実施内容

### 統合対象コミット

| # | ハッシュ（旧） | 作者 | メッセージ | 備考 |
|---|---------------|------|-----------|------|
| 1 | a3c533f | nishioka | docs: Phase 4.1 完了 | ルート1（初期インポート） |
| 2 | 713dde2 | nishioka | docs: Phase 4.1 完了 | ルート1の子（README修正） |
| 3 | d106ba0 | Claude | バリデーション文書を新規作成 | ルート2（別ブランチの初期インポート） |
| 4 | 26f6323 | Claude | README, roadmap, status-022を更新 | ルート2の子 |
| 5 | 61b1189 | nishioka | Merge pull request #17 | ルート1,2のマージ |

→ これら5コミットを1つの新しいルートコミット `c388a15` に統合

### 新しいルートコミット

- **ハッシュ**: 02949d8a69da17c2a373f39c3d7df72836b5ea65
- **作者**: Claude <noreply@anthropic.com>
- **メッセージ**: 初期コミット統合: なけなしのREADME作成
- **ツリー**: 旧マージコミット（61b1189）と同一のツリーオブジェクト

### コミット数の変化

- 旧: 193コミット（2ルート、DAG構造）
- 新: 189コミット（1ルート + PR分岐のみ）
- 差分: -4コミット（4コミット削除 + 1コミット置換）
- コンテンツ差分: **ゼロ**（完全一致確認済み）

## 2. 手法

1. `git commit-tree` で新しいルートコミットを作成（マージコミットのツリーを再利用）
2. `git replace` で旧マージコミットを新ルートに置換
3. `git filter-branch -- --all` で全ref を恒久的に書き換え
4. replace ref と original ref をクリーンアップ

## 3. status-070 TODO 消化状況

| TODO | 状態 |
|------|------|
| CI 実行結果の確認（初回push後） | 未着手（push後に確認） |
| slow テスト個別の timeout 調整 | 未着手 |
| CI キャッシュ導入（pip install 高速化） | 未着手 |
| CI バッジを README に追加 | 未着手 |

## TODO

- [ ] force push 後のリモートとの整合性確認
- [ ] CI 実行結果の確認
- [ ] status-070 の残TODOの消化（CI キャッシュ、CI バッジ等）

## 確認事項・懸念

- 履歴書き換えにより全コミットハッシュが変更されている。他のクローンがある場合は `git fetch --all && git reset --hard origin/master` が必要。
- PR番号のリンクが壊れる可能性あり（コミットハッシュベースの参照）。GitHub上のPRページ自体は保持される。

---
